<!DOCTYPE html>
<html>
<head>
  <style>
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@4.17.0"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"url": "https://cdn.jsdelivr.net/npm/vega-datasets@v1.29.0/data/us-10m.json", "format": {"feature": "states", "type": "topojson"}}, "mark": "geoshape", "encoding": {"color": {"field": "Log1p subaward amount", "type": "quantitative"}, "tooltip": [{"field": "State_name", "type": "nominal"}, {"field": "Number of awards", "type": "quantitative"}, {"field": "Mean of award amounts", "format": ".2~s", "type": "quantitative"}, {"field": "Std of award amounts", "format": ".2~s", "type": "quantitative"}]}, "height": 300, "projection": {"type": "albersUsa"}, "transform": [{"lookup": "id", "from": {"data": {"name": "data-acb640be70a3d6c465329221247ec525"}, "key": "id", "fields": ["State_name", "id", "Number of awards", "Std of award amounts", "Mean of award amounts", "sum", "Log1p subaward amount"]}}], "width": 500, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-acb640be70a3d6c465329221247ec525": [{"State_name": "Alabama", "id": 1, "Number of awards": 14.0, "Std of award amounts": 245324.71630604786, "Mean of award amounts": 242722.7857142857, "sum": 3398119.0, "Log1p subaward amount": 15.038732895481571}, {"State_name": "Alaska", "id": 2, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "Arizona", "id": 4, "Number of awards": 73.0, "Std of award amounts": 967390.8356845684, "Mean of award amounts": 431340.1095890411, "sum": 31487828.0, "Log1p subaward amount": 17.265111648179126}, {"State_name": "Arkansas", "id": 5, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "California", "id": 6, "Number of awards": 68.0, "Std of award amounts": 339347.1269588092, "Mean of award amounts": 240150.39705882352, "sum": 16330227.0, "Log1p subaward amount": 16.60852842688225}, {"State_name": "Colorado", "id": 8, "Number of awards": 8.0, "Std of award amounts": 12971.751175975767, "Mean of award amounts": 164324.0, "sum": 1314592.0, "Log1p subaward amount": 14.089037669983805}, {"State_name": "Connecticut", "id": 9, "Number of awards": 7.0, "Std of award amounts": 1026156.4745657179, "Mean of award amounts": 1428539.142857143, "sum": 9999774.0, "Log1p subaward amount": 16.11807315070519}, {"State_name": "Delaware", "id": 10, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "District of Columbia", "id": 11, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "Florida", "id": 12, "Number of awards": 5.0, "Std of award amounts": 20876.685673257623, "Mean of award amounts": 86965.8, "sum": 434829.0, "Log1p subaward amount": 12.982710429089101}, {"State_name": "Georgia", "id": 13, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "Hawaii", "id": 15, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "Idaho", "id": 16, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "Illinois", "id": 17, "Number of awards": 11.0, "Std of award amounts": 19015.93145424981, "Mean of award amounts": 71297.54545454546, "sum": 784273.0, "Log1p subaward amount": 13.57251372807113}, {"State_name": "Indiana", "id": 18, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "Iowa", "id": 19, "Number of awards": 3.0, "Std of award amounts": 7101.408311032397, "Mean of award amounts": 49200.0, "sum": 147600.0, "Log1p subaward amount": 11.902267966193309}, {"State_name": "Kansas", "id": 20, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "Kentucky", "id": 21, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "Louisiana", "id": 22, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "Maine", "id": 23, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "Maryland", "id": 24, "Number of awards": 26.0, "Std of award amounts": 23160862.157826036, "Mean of award amounts": 21279043.653846152, "sum": 553255135.0, "Log1p subaward amount": 20.131329820178145}, {"State_name": "Massachusetts", "id": 25, "Number of awards": 11.0, "Std of award amounts": 174992.92806593902, "Mean of award amounts": 236415.0909090909, "sum": 2600566.0, "Log1p subaward amount": 14.771240056139472}, {"State_name": "Michigan", "id": 26, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "Minnesota", "id": 27, "Number of awards": 3.0, "Std of award amounts": 13070.055393914748, "Mean of award amounts": 70191.0, "sum": 210573.0, "Log1p subaward amount": 12.257592414270471}, {"State_name": "Mississippi", "id": 28, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "Missouri", "id": 29, "Number of awards": 24.0, "Std of award amounts": 414782.7593581215, "Mean of award amounts": 244880.29166666666, "sum": 5877127.0, "Log1p subaward amount": 15.586578765177247}, {"State_name": "Montana", "id": 30, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "Nebraska", "id": 31, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "Nevada", "id": 32, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "New Hampshire", "id": 33, "Number of awards": 13.0, "Std of award amounts": 152615.7532899419, "Mean of award amounts": 400017.3846153846, "sum": 5200226.0, "Log1p subaward amount": 15.464212836445007}, {"State_name": "New Jersey", "id": 34, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "New Mexico", "id": 35, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "New York", "id": 36, "Number of awards": 6.0, "Std of award amounts": 7104.210910908167, "Mean of award amounts": 45639.333333333336, "sum": 273836.0, "Log1p subaward amount": 12.520288317841691}, {"State_name": "North Carolina", "id": 37, "Number of awards": 2.0, "Std of award amounts": 0.0, "Mean of award amounts": 154168.0, "sum": 308336.0, "Log1p subaward amount": 12.638948619647637}, {"State_name": "North Dakota", "id": 38, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "Ohio", "id": 39, "Number of awards": 6.0, "Std of award amounts": 10748.555929364033, "Mean of award amounts": 56513.166666666664, "sum": 339079.0, "Log1p subaward amount": 12.733991346722341}, {"State_name": "Oklahoma", "id": 40, "Number of awards": 2.0, "Std of award amounts": 0.0, "Mean of award amounts": 46830.0, "sum": 93660.0, "Log1p subaward amount": 11.447437159597042}, {"State_name": "Oregon", "id": 41, "Number of awards": 4.0, "Std of award amounts": 153041.48426488813, "Mean of award amounts": 298276.0, "sum": 1193104.0, "Log1p subaward amount": 13.992069710618667}, {"State_name": "Pennsylvania", "id": 42, "Number of awards": 18.0, "Std of award amounts": 255575.5700318107, "Mean of award amounts": 277978.44444444444, "sum": 5003612.0, "Log1p subaward amount": 15.425670809448695}, {"State_name": "Rhode Island", "id": 44, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "South Carolina", "id": 45, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "South Dakota", "id": 46, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "Tennessee", "id": 47, "Number of awards": 11.0, "Std of award amounts": 254423.5070137263, "Mean of award amounts": 272923.8181818182, "sum": 3002162.0, "Log1p subaward amount": 14.914843586836751}, {"State_name": "Texas", "id": 48, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "Utah", "id": 49, "Number of awards": 10.0, "Std of award amounts": 55989.98220356527, "Mean of award amounts": 98568.4, "sum": 985684.0, "Log1p subaward amount": 13.801092109925891}, {"State_name": "Vermont", "id": 50, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "Virginia", "id": 51, "Number of awards": 11.0, "Std of award amounts": 847273.3191083136, "Mean of award amounts": 637838.7272727273, "sum": 7016226.0, "Log1p subaward amount": 15.763736167128773}, {"State_name": "Washington", "id": 53, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "West Virginia", "id": 54, "Number of awards": 2.0, "Std of award amounts": 19555.745140495157, "Mean of award amounts": 2162556.0, "sum": 4325112.0, "Log1p subaward amount": 15.279948825174438}, {"State_name": "Wisconsin", "id": 55, "Number of awards": 10.0, "Std of award amounts": 22421.780661768244, "Mean of award amounts": 75082.4, "sum": 750824.0, "Log1p subaward amount": 13.528927880955795}, {"State_name": "Wyoming", "id": 56, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}, {"State_name": "Puerto Rico", "id": 72, "Number of awards": 0.0, "Std of award amounts": 0.0, "Mean of award amounts": 0.0, "sum": 0.0, "Log1p subaward amount": 0.0}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>